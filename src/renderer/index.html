/**
 * RinaWarp Terminal - Main UI
 * Copyright (c) 2025 RinaWarp Technologies
 * 
 * This file is part of RinaWarp Terminal, an advanced open-source terminal emulator with
 * AI assistance, live collaboration, and enterprise-grade security features.
 * 
 * Licensed under the MIT License.
 * See LICENSE file for detailed terms and conditions.
 * 
 * Project repository: https://github.com/rinawarp/terminal
 */
<!DOCTYPE html>
<html lang="en">
<head>
    <!--
     RinaWarp Terminal - Main UI
     Copyright (c) 2025 RinaWarp Technologies. All rights reserved.
     
     This file is part of RinaWarp Terminal, a commercial terminal emulator with
     AI assistance, live collaboration, and enterprise-grade security features.
     
     PROPRIETARY SOFTWARE - All rights reserved.
     For licensing information: https://rinawarp.com/pricing
     For enterprise inquiries: sales@rinawarp.com
    -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="RinaWarp Terminal - Next-generation AI-powered terminal with enhanced accessibility and collaboration features">
    <meta name="author" content="RinaWarp Technologies">
    <meta name="theme-color" content="#00ff88">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline'; font-src 'self' data:; img-src 'self' data: https:; connect-src 'self' https: wss:;">
    <title>RinaWarp Terminal</title>
    <link rel="stylesheet" href="../../styles/main.css">
    <link rel="stylesheet" href="../../styles/phase2-ui.css">
    <link rel="stylesheet" href="../../node_modules/@xterm/xterm/css/xterm.css">
</head>
<body>
    <div class="app-container">
        <!-- Custom title bar -->
            <div class="title-bar">
                <div class="title-bar-drag-region">
                    <div class="title-bar-title">RinaWarp Terminal</div>
                </div>
                <div class="title-bar-menu">
                    <button class="menu-btn" id="enhanced-ui-toggle" title="Toggle Enhanced Beginner-Friendly UI">üéØ</button>
                    <button class="menu-btn" id="sessions-btn" title="Sessions">üìÇ</button>
                    <button class="menu-btn" id="cloud-sync-btn" title="Cloud Sync">‚òÅÔ∏è</button>
                    <button class="menu-btn" id="theme-quick-btn" title="Switch to Mermaid Theme">üßú‚Äç‚ôÄÔ∏è</button>
                    <button class="menu-btn" id="settings-btn" title="Settings">‚öôÔ∏è</button>
                </div>
                <div class="title-bar-controls">
                <button class="title-bar-control" id="minimize-btn" title="Minimize">
                    <svg width="10" height="10" viewBox="0 0 10 10">
                        <path d="M0,5 L10,5" stroke="currentColor" stroke-width="1"/>
                    </svg>
                </button>
                <button class="title-bar-control" id="maximize-btn" title="Maximize">
                    <svg width="10" height="10" viewBox="0 0 10 10">
                        <rect x="0" y="0" width="10" height="10" fill="none" stroke="currentColor" stroke-width="1"/>
                    </svg>
                </button>
                <button class="title-bar-control close" id="close-btn" title="Close">
                    <svg width="10" height="10" viewBox="0 0 10 10">
                        <path d="M0,0 L10,10 M10,0 L0,10" stroke="currentColor" stroke-width="1"/>
                    </svg>
                </button>
            </div>
        </div>

        <!-- Main content area -->
        <div class="main-content">
            <!-- Terminal tabs -->
            <div class="tab-bar">
                <div class="tab active" data-tab-id="1">
                    <span class="tab-title">Terminal 1</span>
                    <button class="tab-close">√ó</button>
                </div>
                <button class="new-tab-btn" title="New Tab">+</button>
            </div>

            <!-- Terminal container -->
            <div class="terminal-container">
                <div class="terminal-pane active" data-tab-id="1">
                    <div class="terminal-header">
                        <div class="terminal-path"></div>
                        <div class="terminal-controls">
                            <button class="split-horizontal" title="Split Horizontally">‚¨å</button>
                            <button class="split-vertical" title="Split Vertically">‚¨ç</button>
                        </div>
                    </div>
                    <div class="terminal-wrapper">
                        <div id="terminal-1" class="terminal"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Status bar -->
        <div class="status-bar">
            <div class="status-left">
                <span class="status-item" id="current-dir"></span>
                <span class="status-item" id="branch-info"></span>
            </div>
            <div class="status-right">
                <span class="status-item" id="session-info">Default Session</span>
                <span class="status-item" id="sync-status">‚ö™ Not synced</span>
                <span class="status-item" id="license-status">üîë Trial</span>
                <span class="status-item" id="shell-info"></span>
                <span class="status-item" id="platform-info"></span>
            </div>
        </div>
        
        <!-- Settings Modal -->
        <div id="settings-modal" class="modal hidden">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Settings</h3>
                    <button class="close-modal" id="close-settings">√ó</button>
                </div>
                <div class="modal-body">
                    <div class="setting-group">
                        <label for="theme-select">Theme:</label>
                        <select id="theme-select">
                            <option value="dark">Dark</option>
                            <option value="light">Light</option>
                            <option value="solarized">Solarized</option>
                            <option value="monokai">Monokai</option>
                            <option value="mermaid">üßú‚Äç‚ôÄÔ∏è Mermaid</option>
                            <option value="website">üåä Website</option>
                        </select>
                    </div>
                    <div class="setting-group">
                        <label for="font-size">Font Size:</label>
                        <input type="range" id="font-size" min="10" max="24" value="14">
                        <span id="font-size-value">14px</span>
                    </div>
                    <div class="setting-group">
                        <label>
                            <input type="checkbox" id="command-suggestions" checked>
                            Enable Command Suggestions
                        </label>
                    </div>
                    <div class="setting-group">
                        <label>
                            <input type="checkbox" id="ai-assistance" checked>
                            Enable AI Assistance
                        </label>
                    </div>
                    
                    <div class="setting-group">
                        <label>
                            <input type="checkbox" id="real-ai" >
                            Enable Real AI (requires API key)
                        </label>
                    </div>
                    
                    <div class="setting-group">
                        <label for="ai-provider">AI Provider:</label>
                        <select id="ai-provider">
                            <option value="openai">OpenAI (GPT)</option>
                            <option value="anthropic">Anthropic (Claude)</option>
                            <option value="local">Local (Ollama)</option>
                        </select>
                    </div>
                    
                    <div class="setting-group">
                        <label for="ai-api-key">AI API Key:</label>
                        <input type="password" id="ai-api-key" placeholder="Enter your API key">
                    </div>
                    
                    <div class="setting-group">
                        <label>
                            <input type="checkbox" id="cloud-sync">
                            Enable Cloud Sync
                        </label>
                    </div>
                    
                    <div class="setting-group">
                        <label for="sync-provider">Sync Provider:</label>
                        <select id="sync-provider">
                            <option value="github">GitHub</option>
                            <option value="dropbox">Dropbox</option>
                            <option value="custom">Custom Endpoint</option>
                        </select>
                    </div>
                    
                    <div class="setting-group">
                        <button id="setup-cloud-sync" class="btn btn-secondary">
                            Setup Cloud Sync
                        </button>
                        <button id="sync-now" class="btn btn-primary">
                            Sync Now
                        </button>
                    </div>
                    
                    <div class="setting-group">
                        <label>
                            <input type="checkbox" id="auto-save-session" checked>
                            Auto-save Session
                        </label>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Command Suggestions Box -->
        <div id="suggestions-box" class="suggestions hidden">
            <div class="suggestions-header">Suggestions</div>
            <div class="suggestions-list"></div>
        </div>
        
        <!-- Session Management Modal -->
        <div id="sessions-modal" class="modal hidden">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Session Management</h3>
                    <button class="close-modal" id="close-sessions">√ó</button>
                </div>
                <div class="modal-body">
                    <div class="session-actions">
                        <button id="new-session" class="btn btn-primary">New Session</button>
                        <button id="save-current-session" class="btn btn-secondary">Save Current</button>
                        <button id="export-session" class="btn btn-secondary">Export</button>
                        <button id="import-session" class="btn btn-secondary">Import</button>
                    </div>
                    
                    <div class="sessions-list">
                        <h4>Saved Sessions</h4>
                        <div id="sessions-container"></div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Cloud Sync Setup Modal -->
        <div id="cloud-sync-modal" class="modal hidden">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Cloud Sync Setup</h3>
                    <button class="close-modal" id="close-cloud-sync">√ó</button>
                </div>
                <div class="modal-body">
                    <div class="sync-provider-config">
                        <div id="github-config" class="provider-config">
                            <h4>GitHub Configuration</h4>
                            <div class="form-group">
                                <label for="github-token">Personal Access Token:</label>
                                <input type="password" id="github-token" placeholder="ghp_...">
                            </div>
                            <div class="form-group">
                                <label for="github-repo">Repository (username/repo):</label>
                                <input type="text" id="github-repo" placeholder="username/rinawarp-terminal-sync">
                            </div>
                            <div class="form-group">
                                <label for="github-branch">Branch:</label>
                                <input type="text" id="github-branch" value="main" placeholder="main">
                            </div>
                        </div>
                        
                        <div id="dropbox-config" class="provider-config hidden">
                            <h4>Dropbox Configuration</h4>
                            <div class="form-group">
                                <label for="dropbox-token">Access Token:</label>
                                <input type="password" id="dropbox-token" placeholder="sl.B...">
                            </div>
                        </div>
                        
                        <div id="custom-config" class="provider-config hidden">
                            <h4>Custom Endpoint Configuration</h4>
                            <div class="form-group">
                                <label for="custom-endpoint">Endpoint URL:</label>
                                <input type="text" id="custom-endpoint" placeholder="https://api.example.com/sync">
                            </div>
                            <div class="form-group">
                                <label for="custom-headers">Headers (JSON):</label>
                                <textarea id="custom-headers" placeholder='{"Authorization": "Bearer your-token"}'></textarea>
                            </div>
                        </div>
                    </div>
                    
                    <div class="sync-actions">
                        <button id="test-connection" class="btn btn-secondary">Test Connection</button>
                        <button id="save-sync-config" class="btn btn-primary">Save Configuration</button>
                    </div>
                    
                    <div class="sync-status">
                        <h4>Sync Status</h4>
                        <div id="sync-status-display">Not connected</div>
                        <div id="last-sync-time">Never synced</div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- New Session Modal -->
        <div id="new-session-modal" class="modal hidden">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Create New Session</h3>
                    <button class="close-modal" id="close-new-session">√ó</button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="session-name">Session Name:</label>
                        <input type="text" id="session-name" placeholder="My Development Session">
                    </div>
                    <div class="form-group">
                        <label for="session-description">Description:</label>
                        <textarea id="session-description" placeholder="Optional description for this session"></textarea>
                    </div>
                    <div class="form-actions">
                        <button id="create-session" class="btn btn-primary">Create Session</button>
                        <button id="cancel-new-session" class="btn btn-secondary">Cancel</button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Welcome Screen Overlay -->
        <div id="welcome-overlay" class="welcome-overlay hidden">
            <div class="welcome-container">
                <div class="welcome-header">
                    <div class="logo-section">
                        <div class="app-logo">üöÄ</div>
                        <h1>Welcome to RinaWarp Terminal</h1>
                        <p class="subtitle">Your AI-powered development companion</p>
                    </div>
                </div>
                
                <div class="welcome-content">
                    <div class="feature-highlights">
                        <div class="feature-card">
                            <div class="feature-icon">ü§ñ</div>
                            <h3>AI Assistant</h3>
                            <p>Get intelligent command suggestions and code help</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">üé®</div>
                            <h3>Beautiful Themes</h3>
                            <p>Customize your terminal with stunning color schemes</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">‚ö°</div>
                            <h3>Lightning Fast</h3>
                            <p>Enhanced performance with modern web technologies</p>
                        </div>
                    </div>
                    
                    <div class="welcome-actions">
                        <button id="start-quick-setup" class="btn btn-primary btn-large">
                            Quick Setup (2 minutes)
                        </button>
                        <button id="skip-welcome" class="btn btn-secondary">
                            Skip & Explore
                        </button>
                    </div>
                    
                    <div class="welcome-footer">
                        <p>Need help? Press <kbd>Ctrl+Shift+P</kbd> to open the command palette anytime</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Quick Setup Modal -->
        <div id="quick-setup-modal" class="modal hidden">
            <div class="modal-content setup-modal">
                <div class="modal-header">
                    <h3>Quick Setup - <span id="setup-step-title">Welcome</span></h3>
                    <div class="setup-progress">
                        <div class="progress-bar">
                            <div id="setup-progress-fill" class="progress-fill"></div>
                        </div>
                        <span id="setup-step-counter">Step 1 of 4</span>
                    </div>
                </div>
                
                <div class="modal-body">
                    <!-- Step 1: Theme Selection -->
                    <div id="setup-step-1" class="setup-step active">
                        <h4>Choose Your Style</h4>
                        <p class="step-description">Select a theme that matches your preference</p>
                        
                        <div class="theme-grid">
                            <div class="theme-option" data-theme="mermaid">
                                <div class="theme-preview mermaid-preview">
                                    <div class="preview-titlebar"></div>
                                    <div class="preview-terminal">
                                        <div class="preview-line">
                                            <span class="preview-prompt">‚ùØ</span>
                                            <span class="preview-command">npm start</span>
                                        </div>
                                    </div>
                                </div>
                                <span class="theme-name">Mermaid (Default)</span>
                            </div>
                            
                            <div class="theme-option" data-theme="dark">
                                <div class="theme-preview dark-preview">
                                    <div class="preview-titlebar"></div>
                                    <div class="preview-terminal">
                                        <div class="preview-line">
                                            <span class="preview-prompt">‚ùØ</span>
                                            <span class="preview-command">npm start</span>
                                        </div>
                                    </div>
                                </div>
                                <span class="theme-name">Dark Pro</span>
                            </div>
                            
                            <div class="theme-option" data-theme="light">
                                <div class="theme-preview light-preview">
                                    <div class="preview-titlebar"></div>
                                    <div class="preview-terminal">
                                        <div class="preview-line">
                                            <span class="preview-prompt">‚ùØ</span>
                                            <span class="preview-command">npm start</span>
                                        </div>
                                    </div>
                                </div>
                                <span class="theme-name">Light Mode</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Step 2: Shell Configuration -->
                    <div id="setup-step-2" class="setup-step">
                        <h4>Configure Your Shell</h4>
                        <p class="step-description">Set up your preferred shell and startup directory</p>
                        
                        <div class="form-group">
                            <label for="setup-shell">Default Shell:</label>
                            <select id="setup-shell" class="form-control">
                                <option value="auto">Auto-detect</option>
                                <option value="powershell">PowerShell</option>
                                <option value="cmd">Command Prompt</option>
                                <option value="wsl">WSL (Ubuntu)</option>
                                <option value="git-bash">Git Bash</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="setup-startup-dir">Startup Directory:</label>
                            <input type="text" id="setup-startup-dir" class="form-control" placeholder="Leave empty for home directory">
                            <button id="browse-startup-dir" class="btn btn-small btn-secondary">Browse</button>
                        </div>
                    </div>
                    
                    <!-- Step 3: AI Features -->
                    <div id="setup-step-3" class="setup-step">
                        <h4>AI Assistant Settings</h4>
                        <p class="step-description">Configure intelligent features to boost your productivity</p>
                        
                        <div class="feature-toggles">
                            <div class="toggle-item">
                                <label class="toggle-switch">
                                    <input type="checkbox" id="enable-ai-suggestions" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                                <div class="toggle-content">
                                    <h5>Smart Command Suggestions</h5>
                                    <p>Get contextual command recommendations as you type</p>
                                </div>
                            </div>
                            
                            <div class="toggle-item">
                                <label class="toggle-switch">
                                    <input type="checkbox" id="enable-auto-complete" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                                <div class="toggle-content">
                                    <h5>Enhanced Auto-completion</h5>
                                    <p>Intelligent file and command completion</p>
                                </div>
                            </div>
                            
                            <div class="toggle-item">
                                <label class="toggle-switch">
                                    <input type="checkbox" id="enable-error-help">
                                    <span class="toggle-slider"></span>
                                </label>
                                <div class="toggle-content">
                                    <h5>Error Analysis & Help</h5>
                                    <p>Get suggestions when commands fail</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Step 4: Summary -->
                    <div id="setup-step-4" class="setup-step">
                        <h4>You're All Set!</h4>
                        <p class="step-description">Here's what we've configured for you:</p>
                        
                        <div class="setup-summary">
                            <div class="summary-item">
                                <span class="summary-label">Theme:</span>
                                <span id="summary-theme">Mermaid</span>
                            </div>
                            <div class="summary-item">
                                <span class="summary-label">Shell:</span>
                                <span id="summary-shell">Auto-detect</span>
                            </div>
                            <div class="summary-item">
                                <span class="summary-label">AI Features:</span>
                                <span id="summary-ai">Enabled</span>
                            </div>
                        </div>
                        
                        <div class="next-steps">
                            <h5>What's Next?</h5>
                            <ul>
                                <li>Press <kbd>Ctrl+Shift+P</kbd> to open the command palette</li>
                                <li>Try typing <code>git status</code> to see AI suggestions</li>
                                <li>Use <kbd>Ctrl+,</kbd> to access advanced settings anytime</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <div class="modal-footer setup-footer">
                    <button id="setup-prev" class="btn btn-secondary" disabled>Previous</button>
                    <div class="footer-spacer"></div>
                    <button id="setup-skip" class="btn btn-text">Skip Setup</button>
                    <button id="setup-next" class="btn btn-primary">Next</button>
                    <button id="setup-finish" class="btn btn-primary" style="display: none;">Start Terminal</button>
                </div>
            </div>
        </div>
        
        <!-- Command Palette -->
        <div id="command-palette" class="command-palette hidden">
            <div class="palette-container">
                <div class="palette-header">
                    <div class="search-container">
                        <span class="search-icon">üîç</span>
                        <input type="text" id="palette-search" placeholder="Type a command or search..." autocomplete="off">
                        <span class="palette-shortcut">Esc to close</span>
                    </div>
                </div>
                
                <div class="palette-results">
                    <div class="results-section">
                        <div class="section-title">Quick Actions</div>
                        <div id="palette-quick-actions" class="results-list"></div>
                    </div>
                    
                    <div class="results-section">
                        <div class="section-title">Settings</div>
                        <div id="palette-settings" class="results-list"></div>
                    </div>
                    
                    <div class="results-section">
                        <div class="section-title">Features</div>
                        <div id="palette-features" class="results-list"></div>
                    </div>
                </div>
                
                <div class="palette-footer">
                    <div class="palette-help">
                        <span><kbd>‚Üë‚Üì</kbd> Navigate</span>
                        <span><kbd>Enter</kbd> Execute</span>
                        <span><kbd>Esc</kbd> Close</span>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Tooltips Container -->
        <div id="tooltip-container"></div>
        
        <!-- Feature Callouts -->
        <div id="feature-callouts"></div>
    </div>

    <!-- Scripts -->
    <!-- Load license system first -->
    <script src="../license-manager.js"></script>
    
    <!-- Load advanced features first as modules -->
    <script type="module" src="ai-context-engine.js"></script>
    <script type="module" src="enhanced-security.js"></script>
    <script type="module" src="zero-trust-security.js"></script>
    <script type="module" src="terminal-sharing.js"></script>
    <script type="module" src="workflow-automation.js"></script>
    <script type="module" src="performance-monitor.js"></script>
    <script type="module" src="next-gen-ui.js"></script>
    
    <!-- RinaWarp Integration Layer (Patent Pending) -->
    <script type="module" src="../integration-layer/core-integration-hub.js"></script>
    <script type="module" src="../integration-layer/main-integration.js"></script>
    <script type="module" src="integration-init.js"></script>
    
    <!-- Phase 2 Next-Generation UI Integration -->
    <script type="module" src="phase2-integration.js"></script>
    
    <!-- Main renderer loads after integration system -->
    <script type="module" src="renderer.js"></script>
    
    <!-- Initialize RinaWarp Integration on load -->
    <script type="module">
        console.log('%cüöÄ RinaWarp Terminal v1.0.0', 'color: #00ff88; font-weight: bold; font-size: 16px;');
        console.log('%c   Copyright (c) 2025 RinaWarp Technologies', 'color: #888;');
        console.log('%c   Patent Pending - Advanced Terminal Integration Architecture', 'color: #888;');
        console.log('');
        
        // Monitor for integration system readiness
        const checkIntegration = setInterval(() => {
            if (window.rinaWarpInitializer && window.rinaWarpInitializer.isInitialized) {
                console.log('%c‚ú® RinaWarp Integration System Active!', 'color: #00ff88; font-weight: bold;');
                clearInterval(checkIntegration);
            }
        }, 100);
    </script>
</body>
</html>

