/**
 * RinaWarp Terminal - Test Downloads
 * Copyright (c) 2025 RinaWarp Technologies
 * 
 * This file is part of RinaWarp Terminal, an advanced open-source terminal emulator with
 * AI assistance, live collaboration, and enterprise-grade security features.
 * 
 * Licensed under the MIT License.
 * See LICENSE file for detailed terms and conditions.
 * 
 * Project repository: https://github.com/rinawarp/terminal
 */
<!DOCTYPE html>
<html>
<head>
    <title>Download Test - RinaWarp Terminal</title>
</head>
<body>
    <h1>📥 Download System Test</h1>
    <p>Test the download functionality from your success page:</p>
    
    <div id="test-results"></div>
    
    <h3>Test Downloads:</h3>
    <button onclick="testDownload('windows')">🪟 Test Windows Download</button>
    <button onclick="testDownload('mac')">🍎 Test macOS Download</button> 
    <button onclick="testDownload('linux')">🐧 Test Linux Download</button>
    
    <br><br>
    <button onclick="checkFileExists()">🔍 Check if files exist</button>
    
    <script>
        function log(message, type = 'info') {
            const div = document.getElementById('test-results');
            const color = type === 'error' ? 'red' : type === 'success' ? 'green' : 'blue';
            div.innerHTML += `<p style="color: ${color};">${message}</p>`;
        }
        
        function testDownload(platform) {
            // Same logic as your success page
            const downloads = {
                windows: './RinaWarp-Terminal-Setup.exe',
                mac: './RinaWarp-Terminal-Setup.exe',
                linux: './RinaWarp-Terminal-Portable.exe'
            };
            
            const url = downloads[platform];
            log(`Testing ${platform} download: ${url}`);
            
            // Create a test link and try to access it
            const testLink = document.createElement('a');
            testLink.href = url;
            testLink.download = url.split('/').pop();
            
            // Test if the URL resolves
            fetch(url, { method: 'HEAD' })
                .then(response => {
                    if (response.ok) {
                        log(`✅ ${platform} download available (${response.status})`, 'success');
                        log(`✅ File size: ${response.headers.get('content-length')} bytes`, 'success');
                    } else {
                        log(`❌ ${platform} download failed (${response.status})`, 'error');
                    }
                })
                .catch(error => {
                    log(`❌ ${platform} download error: ${error.message}`, 'error');
                });
        }
        
        function checkFileExists() {
            log('Checking if executable files exist...');
            
            const files = [
                './RinaWarp-Terminal-Setup.exe',
                './RinaWarp-Terminal-Portable.exe'
            ];
            
            files.forEach(file => {
                fetch(file, { method: 'HEAD' })
                    .then(response => {
                        if (response.ok) {
                            const size = response.headers.get('content-length');
                            const sizeMB = Math.round(size / 1024 / 1024);
                            log(`✅ ${file} exists (${sizeMB} MB)`, 'success');
                        } else {
                            log(`❌ ${file} not found (${response.status})`, 'error');
                        }
                    })
                    .catch(error => {
                        log(`❌ ${file} error: ${error.message}`, 'error');
                    });
            });
        }
        
        // Auto-check on load
        window.onload = function() {
            log('🧪 Starting download system test...');
            checkFileExists();
        }
    </script>
</body>
</html>

