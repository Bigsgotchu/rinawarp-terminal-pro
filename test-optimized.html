<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>RinaWarp Terminal - Optimized Build Test</title>
    <style>
        body {
            background-color: #1a1a1a;
            color: #fff;
            font-family: 'Consolas', 'Monaco', monospace;
            margin: 0;
            padding: 20px;
        }
        #terminal {
            width: 100%;
            height: 500px;
            background-color: #000;
            border: 1px solid #333;
        }
        .info {
            margin: 20px 0;
            padding: 10px;
            background-color: #333;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <h1>üßú‚Äç‚ôÄÔ∏è RinaWarp Terminal - Optimized Build Test</h1>
    
    <div class="info">
        <h3>Build Information:</h3>
        <p>Renderer Bundle: <span id="renderer-size">Loading...</span></p>
        <p>Vendor Bundle: <span id="vendor-size">Loading...</span></p>
        <p>AI Integration: <span id="ai-size">Loading...</span></p>
    </div>
    
    <div id="terminal"></div>
    
    <div class="info">
        <h3>Performance Metrics:</h3>
        <p>Load Time: <span id="load-time">Measuring...</span></p>
        <p>Bundle Count: <span id="bundle-count">Counting...</span></p>
    </div>

    <!-- Mock required globals -->
    <script>
        window.electronAPI = {
            ipcRenderer: {
                on: () => {},
                invoke: () => Promise.resolve(),
                send: () => {}
            },
            getSystemInfo: () => Promise.resolve({ platform: 'test', shell: '/bin/bash' }),
            createShellProcess: () => Promise.resolve({ id: 1 }),
            onShellData: () => {},
            onShellError: () => {},
            onShellExit: () => {},
            writeToShell: () => {}
        };
        
        window.nodeAPI = {
            getCurrentDir: () => Promise.resolve('/test'),
            getHomeDir: () => Promise.resolve('/home/test')
        };
        
        const startTime = performance.now();
    </script>
    
    <!-- Load optimized bundles -->
    <script src="dist/runtime.7757de32409488530442.js"></script>
    <script src="dist/vendor-large.557fa17c1572698adf38.js"></script>
    <script src="dist/renderer.70028ee5ed6e11c6a8d9.js"></script>
    
    <script>
        // Display bundle sizes (approximate)
        document.getElementById('renderer-size').textContent = '96.2 KiB (optimized from 136 KiB)';
        document.getElementById('vendor-size').textContent = '285 KiB (optimized from 288 KiB)';
        document.getElementById('ai-size').textContent = '6.73 KiB (optimized from 13.8 KiB)';
        
        // Measure load time
        window.addEventListener('load', () => {
            const loadTime = performance.now() - startTime;
            document.getElementById('load-time').textContent = `${loadTime.toFixed(2)}ms`;
            
            // Count loaded bundles
            const scripts = document.querySelectorAll('script[src*="bundle"]');
            document.getElementById('bundle-count').textContent = scripts.length;
            
            console.log('‚úÖ Optimized build loaded successfully!');
            console.log('Performance improvements:');
            console.log('- Lazy loading for AI and Terminal Manager');
            console.log('- Console logs dropped in production');
            console.log('- Better code splitting');
            console.log('- Content hashes for caching');
        });
    </script>
</body>
</html>
